# Протокол <название стандарта>

Протокол может быть реализован поверх чего угодно: будь то простые файлы, принесённые на физическом носителе, ssh, ftp, http или что-нибудь ещё.

## Сообщения 

Это похоже на электронную почту, но ещё проще.

### Структура отправляемого сообщения

Пример
```
im.16
All
Мое первое сообщение в <название>

@repto:<20-символьный id>
И вот я пишу своё первое сообщение в нашу секту.
Меня видно?
```
* Первой строкой тут указывается эхоконференция, для которой предназначено ваше сообщение.
* Второй строкой указывается пользователь, кому отвечаете, либо All, если хочется написать всем.
* Третьей строкой указывается тема.
* Четвертая строка. Оставьте её пустой.
* Пятая строка: если начинается с `@repto`:, то проставляет тэг repto (указывает id сообщения, на которое отвечаем).
Иначе строка относится к тексту сообщения
* Шестая строка и дальше -- текст сообщения.

### Структура сообщения, хранимого на сервере и отдаваемого клиенту

Пример
```
<tags>
im.16
1455789357
Vasya
Lunar, 2
Pupkin
Re: Мое первое сообщение в <название>

текст сообщения
```

### Формат тегов

Строки, разделённые слешами. Сначала ключ, потом значение и так далее.

Образец: `ii/ok/repto/fjLkfrmjNvO4fjzlUs5U`
Тег `ii/ok` обычно проставляется обязательно. Требуется для совместимости с ii.

/// vim: set tw=72
